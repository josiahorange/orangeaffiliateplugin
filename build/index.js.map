{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"element\"]}"],"names":["pluginUrl","pluginsUrl","url","registerBlockType","window","wp","blocks","InspectorControls","blockEditor","components","PanelBody","Button","ResponsiveWrapper","Fragment","element","withSelect","data","__","i18n","MediaUpload","MediaUploadCheck","TextControl","TextareaControl","BlockEdit","props","attributes","setAttributes","updateUrl","event","oafurl","document","getElementById","value","oafname","oafdescription","updatedb","oafurlajax","alert","jQuery","$","ajax","type","datatype","user_oaflink","success","error","updateattributes","oafsubtext","oafbuttontext","onTodoChange","setState","name","removeMedia","mediaId","mediaUrl","onSelectMedia","media","id","blockStyle","backgroundImage","open","undefined","media_details","width","height","source_url","title","description","icon","category","default","edit","select","getMedia","save"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var pluginUrl = pluginsUrl.url;\r\nconst { registerBlockType } = window.wp.blocks;\r\n\r\n\r\n\r\nconst { InspectorControls } = wp.blockEditor;\r\nconst { PanelBody, Button, ResponsiveWrapper } = wp.components;\r\nconst { Fragment } = wp.element;\r\nconst { withSelect } = wp.data;\r\nconst { __ } = wp.i18n;\r\nconst { MediaUpload, MediaUploadCheck } = wp.blockEditor;\r\nconst { TextControl } = wp.components\r\nconst { TextareaControl } = wp.components\r\n\r\n\r\nconst BlockEdit = (props) => {\r\n\tconst { attributes, setAttributes } = props;\r\n \r\n\r\n    function updateUrl(event) {\r\n        setAttributes( { oafurl:document.getElementById(\"inputfieldurl\").value } );\r\n        setAttributes( { oafname:document.getElementById(\"inputfieldname\").value } );\r\n        setAttributes( { oafdescription:document.getElementById(\"inputfielddescription\").value } );\r\n\r\n        updatedb(document.getElementById(\"inputfieldurl\").value); \r\n    }\r\n    function updatedb(oafurlajax){\r\n        alert(pluginUrl + '/formprocess/dbsubmit.php');\r\n        jQuery(function($) {\r\n                $.ajax\r\n                ({\r\n                    type:'post',\r\n                    url:pluginUrl + '/formprocess/dbsubmit.php',\r\n                    datatype:\"text\",\r\n                    data:\r\n                    {\r\n                        user_oaflink: oafurlajax,\r\n                    },\r\n                    success: function(){ alert(\"ajax complete\")},\r\n                    error:function(){ alert(\"ajax failed\")},\r\n                    \r\n                    \r\n                });\r\n            \r\n        });\r\n    }\r\n\r\n    const updateattributes= () => {\r\n        props.setAttributes({\r\n\t\t\r\n            oafurl:document.getElementById(\"inputfieldurl\").value,\r\n            oafname:document.getElementById(\"inputfieldname\").value,\r\n            oafdescription:document.getElementById(\"inputfielddescription\").value,\r\n            oafsubtext:document.getElementById(\"inputfieldsubtext\").value,\r\n            oafbuttontext:document.getElementById(\"inputfieldbuttontext\").value,\r\n\r\n\r\n        });\r\n        //updatedb(document.getElementById(\"inputfieldurl\").value); \r\n    }\r\n\r\n    function onTodoChange(value){\r\n        this.setState({\r\n             name: value\r\n        });\r\n    }\r\n\r\n\tconst removeMedia = () => {\r\n\t\tprops.setAttributes({\r\n\t\t\tmediaId: 0,\r\n            mediaUrl: '',\r\n         \r\n\t\t});\r\n\t}\r\n \r\n \tconst onSelectMedia = (media) => {\r\n\t\tprops.setAttributes({\r\n\t\t\tmediaId: media.id,\r\n            mediaUrl: media.url,\r\n \r\n\r\n\r\n        });\r\n        //updatedb(document.getElementById(\"inputfieldurl\").value); \r\n\r\n    }\r\n    \r\n\r\n \r\n\tconst blockStyle = {\r\n\t\tbackgroundImage: attributes.mediaUrl != '' ? 'url(\"' + attributes.mediaUrl + '\")' : 'none'\r\n    };\r\n    \r\n\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t<PanelBody\r\n\t\t\t\t\ttitle={__('Select Product Image', 'awp')}\r\n\t\t\t\t\tinitialOpen={ true }\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"editor-post-featured-image\">\r\n\t\t\t\t\t\t<MediaUploadCheck>\r\n\t\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\t\tonSelect={onSelectMedia}\r\n\t\t\t\t\t\t\t\tvalue={attributes.mediaId}\r\n\t\t\t\t\t\t\t\tallowedTypes={ ['image'] }\r\n\t\t\t\t\t\t\t\trender={({open}) => (\r\n\t\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\t\tclassName={attributes.mediaId == 0 ? 'editor-post-featured-image__toggle' : 'editor-post-featured-image__preview'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={open}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{attributes.mediaId == 0 && __('Choose an image', 'awp')}\r\n\t\t\t\t\t\t\t\t\t\t{props.media != undefined && \r\n\t\t\t\t\t\t            \t\t\t<ResponsiveWrapper\r\n\t\t\t\t\t\t\t\t\t    \t\tnaturalWidth={ props.media.media_details.width }\r\n\t\t\t\t\t\t\t\t\t\t\tnaturalHeight={ props.media.media_details.height }\r\n\t\t\t\t\t\t\t\t\t    \t>\r\n\t\t\t\t\t\t\t\t\t    \t\t<img src={props.media.source_url} />\r\n\t\t\t\t\t\t\t\t\t    \t</ResponsiveWrapper>\r\n\t\t\t\t\t\t            \t\t}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</MediaUploadCheck>\r\n\t\t\t\t\t\t{attributes.mediaId != 0 && \r\n\t\t\t\t\t\t\t<MediaUploadCheck>\r\n\t\t\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\t\t\ttitle={__('Replace image', 'awp')}\r\n\t\t\t\t\t\t\t\t\tvalue={attributes.mediaId}\r\n\t\t\t\t\t\t\t\t\tonSelect={onSelectMedia}\r\n\t\t\t\t\t\t\t\t\tallowedTypes={['image']}\r\n\t\t\t\t\t\t\t\t\trender={({open}) => (\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={open} isDefault isLarge>{__('Replace image', 'awp')}</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MediaUploadCheck>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{attributes.mediaId != 0 && \r\n\t\t\t\t\t\t\t<MediaUploadCheck>\r\n\t\t\t\t\t\t\t\t<Button onClick={removeMedia} isLink isDestructive>{__('Remove image', 'awp')}</Button>\r\n\t\t\t\t\t\t\t</MediaUploadCheck>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\r\n           \r\n\t\t\t\t</PanelBody>\r\n\r\n                    <TextControl\r\n                        label=\"Affiliate URL\"\r\n                        value={attributes.oafurl }\r\n                        class=\"oafinputfield\"\r\n                        id=\"inputfieldurl\"\r\n                        onChange={updateattributes}            \r\n                        type=\"text\"\r\n                    />\r\n\r\n                    <TextControl\r\n                        label=\"Product Name\"\r\n                        value={ attributes.oafname }\r\n                        class=\"oafinputfield\"\r\n                        id=\"inputfieldname\"\r\n                        onChange={updateattributes}            \r\n                        type=\"text\"\r\n                    />\r\n                    <TextareaControl\r\n                        label=\"Product Description\"\r\n                        value={ attributes.oafdescription }\r\n                        class=\"oafinputfield\"\r\n                        id=\"inputfielddescription\"\r\n                        onChange={updateattributes}            \r\n                        type=\"text\"\r\n                    />\r\n                         <TextareaControl\r\n                        label=\"Subtext\"\r\n                        value={ attributes.oafsubtext }\r\n                        class=\"oafinputfield\"\r\n                        id=\"inputfieldsubtext\"\r\n                        onChange={updateattributes}            \r\n                        type=\"text\"\r\n                    />\r\n                               <TextareaControl\r\n                        label=\"Button Text\"\r\n                        value={ attributes.oafbuttontext }\r\n                        class=\"oafinputfield\"\r\n                        id=\"inputfieldbuttontext\"\r\n                        onChange={updateattributes}            \r\n                        type=\"text\"\r\n                    />\r\n\r\n\t\t\t</InspectorControls>\r\n\r\n  \r\n\r\n            <p><b>URL: </b>{attributes.oafurl}</p>\r\n\r\n            <div class=\"oafcontainer\">\r\n\r\n                <div class=\"oafleft\">\r\n                        \r\n                        <img src={attributes.mediaUrl}></img>\r\n\r\n                </div>\r\n                <div class=\"oafright\"/*style={blockStyle}*/>\r\n                  \r\n                <h2>{attributes.oafname}</h2>\r\n                <p>{attributes.oafdescription}</p>\r\n                <button>{attributes.oafbuttontext}</button>\r\n                <div class=\"oafnot\">\r\n                    <p>{attributes.oafsubtext}</p>\r\n                </div>\r\n\r\n\r\n                    \r\n\r\n\r\n                </div>\r\n            </div>\r\n\t\t</Fragment>\r\n\r\n       \r\n\r\n\r\n\t);\r\n};\r\n\r\nregisterBlockType('orangeaffiliate/o-affiliateblock', {\r\n    // built in attributes\r\n    title: 'Orange Affiliate 1',\r\n    description: 'Affiliate Block to Display affiliate Products.',\r\n    icon: 'cart',\r\n    category: 'common',\r\n    \r\n\r\n  \r\n\r\n    // custom attributes\r\n    attributes: {\r\n        oafurl:{\r\n            type:'string',\r\n       \r\n        },\r\n        oafname:{\r\n            type:'string',\r\n       \r\n        },\r\n\r\n        oafdescription:{\r\n            type:'string',\r\n\r\n        },\r\n\r\n        mediaId: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        mediaUrl: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        oafsubtext: {\r\n            type: 'string',\r\n            default: 'This is an affiliate Link'\r\n        },\r\n        oafbuttontext: {\r\n            type: 'string',\r\n            default: 'See the Product'\r\n        },\r\n        oafbuttontext: {\r\n            type: 'boolean',\r\n            default: 'See the Product'\r\n\r\n        \r\n        },\r\n       \r\n    },\r\n\r\n    // built in functions\r\n    /*edit({ setAttributes, attributes}){\r\n\r\n        //custom functions\r\n\r\n        function updateUrl(event) {\r\n            setAttributes( { oafurl:document.getElementById(\"inputfield\").value } );\r\n            updatedb(document.getElementById(\"inputfield\").value); \r\n        }\r\n        function updatedb(oafurlajax){\r\n            alert(pluginUrl + '/formprocess/dbsubmit.php');\r\n            jQuery(function($) {\r\n                    $.ajax\r\n                    ({\r\n                        type:'post',\r\n                        url:pluginUrl + '/formprocess/dbsubmit.php',\r\n                        datatype:\"text\",\r\n                        data:\r\n                        {\r\n                            user_oaflink: oafurlajax,\r\n                        },\r\n                        success: function(){ alert(\"ajax complete\")},\r\n                        error:function(){ alert(\"ajax failed\")},\r\n                        \r\n                        \r\n                    });\r\n                \r\n        });\r\n\r\n        \r\n         \r\n\r\n        }\r\n\r\n\r\n\r\n        \r\n    \r\n        return([\r\n            <input id=\"inputfield\" value={ attributes.oafurl } type=\"text\" />,\r\n            <input onClick={ updateUrl } type=\"button\"  value=\"Submiting\"/>,\r\n\r\n\r\n         \r\n        ]); \r\n          \r\n \r\n         \r\n        \r\n         \r\n   \r\n            \r\n    \r\n        \r\n\r\n    },*/\r\n    \r\n\r\n    edit: withSelect((select, props) => {\r\n\r\n        \r\n\r\n        return { \r\n\r\n            media: props.attributes.mediaId ? select('core').getMedia(props.attributes.mediaId) : undefined \r\n        };\r\n\r\n           \r\n\r\n        \r\n\r\n    })(BlockEdit),\r\n\r\n    /*save({ attributes }){\r\n\r\n       \r\n            \r\n        \r\n        return <p>Author Name: { attributes.oafurl }</p>;\r\n\r\n    }*/\r\n\r\n    save: (props) => {\r\n\t\tconst { attributes } = props;\r\n\t\tconst blockStyle = {\r\n\t\t\tbackgroundImage: attributes.mediaUrl != '' ? 'url(\"' + attributes.mediaUrl + '\")' : 'none'\r\n        };\r\n        \r\n\t\treturn (\r\n\t\t\t<div class=\"oafwrapper\" /*style={blockStyle}*/>\r\n               \r\n                <a class=\"oafcontainer\" href={ attributes.oafurl }>\r\n\r\n                    <div class=\"oafleft\">\r\n                        <img src={attributes.mediaUrl}></img>\r\n                    </div>\r\n\r\n                    <div class=\"oafright\">\r\n                        <h3>{ attributes.oafname }</h3>\r\n                        <p>{ attributes.oafdescription}</p>\r\n                        <button>{ attributes.oafbuttontext }</button>\r\n                        <div class=\"oafnot\">\r\n                            <p>{attributes.oafsubtext}</p>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </a>\r\n             \r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\r\n\r\n\r\n})\r\n\r\n\r\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());"],"sourceRoot":""}